<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Highlighting Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }

        .demo-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .search-input {
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 4px;
            width: 300px;
            margin-bottom: 20px;
        }

        .word-card {
            background: #f9f9f9;
            padding: 15px;
            margin: 10px 0;
            border-radius: 6px;
            border-left: 4px solid #007bff;
        }

        .word-title {
            font-size: 18px;
            font-weight: bold;
            color: #007bff;
            margin-bottom: 5px;
        }

        .word-definition {
            color: #666;
        }

        .highlight {
            background-color: #fef08a;
            color: #854d0e;
            padding: 2px 4px;
            border-radius: 2px;
            font-weight: 600;
        }

        .instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <h1>üîç Search Highlighting Demo - Kurukh Dictionary</h1>

    <div class="instructions">
        <h3>Instructions:</h3>
        <p>Type in the search box below to see how search terms are highlighted in yellow in the results:</p>
        <ul>
            <li>Try "man" - should highlight in "mankhaa"</li>
            <li>Try "pan" - should highlight in "pani"</li>
            <li>Try "kha" - should highlight in "mankhaa" and "khana"</li>
            <li>Try "water" - should highlight in the definition</li>
            <li>Try "food" - should highlight in the definition</li>
        </ul>
    </div>

    <div class="demo-section">
        <h2>Live Search Demo</h2>
        <input type="text" id="searchInput" class="search-input" placeholder="Type a search term..."
            oninput="performSearch()">

        <div id="searchResults">
            <!-- Results will appear here -->
        </div>
    </div>

    <script>
        // Sample word data
        const words = [
            {
                kurukh_word: 'mankhaa',
                definition: 'man, person, human being'
            },
            {
                kurukh_word: 'pani',
                definition: 'water'
            },
            {
                kurukh_word: 'khana',
                definition: 'food, meal'
            },
            {
                kurukh_word: 'dokon',
                definition: 'tree, wood'
            },
            {
                kurukh_word: 'bhat',
                definition: 'rice'
            }
        ];

        // Function to highlight text
        function highlightText(text, searchTerm) {
            if (!text || !searchTerm) return text;

            const regex = new RegExp(`(${searchTerm.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }

        // Function to perform search and display results
        function performSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            const resultsContainer = document.getElementById('searchResults');

            if (!searchTerm) {
                resultsContainer.innerHTML = '<p>Enter a search term to see highlighted results...</p>';
                return;
            }

            // Filter words that match the search term
            const matchingWords = words.filter(word =>
                word.kurukh_word.toLowerCase().includes(searchTerm) ||
                word.definition.toLowerCase().includes(searchTerm)
            );

            if (matchingWords.length === 0) {
                resultsContainer.innerHTML = '<p>No matches found.</p>';
                return;
            }

            // Display results with highlighting
            let resultsHTML = '<h3>Search Results:</h3>';
            matchingWords.forEach(word => {
                const highlightedWord = highlightText(word.kurukh_word, searchTerm);
                const highlightedDefinition = highlightText(word.definition, searchTerm);

                resultsHTML += `
                    <div class="word-card">
                        <div class="word-title">${highlightedWord}</div>
                        <div class="word-definition">${highlightedDefinition}</div>
                    </div>
                `;
            });

            resultsContainer.innerHTML = resultsHTML;
        }

        // Show all words initially
        window.onload = function () {
            document.getElementById('searchInput').value = '';
            performSearch();
        };
    </script>
</body>

</html>